.block {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: clamp(500px, 45vw, 560px);   /* 響應式寬度，避免固定像素 */
  height: auto;
  cursor: pointer;
}

.block img {
  width: 100%;   /* 讓圖片撐滿區塊 */
  height: auto;
  display: block;
}

/* 讓最後幾個字不換行用 */
.no-break { white-space: nowrap; }

/* 外層：負責定位與置中，不旋轉 */
#block1 .block-slot,
#block2 .block-slot {
  position: absolute;
  top: 22%;
  left: 32%;
  width: 55%;
  height: clamp(80px, 8vh, 110px);  /* 響應式高度 */
  padding-right: clamp(15px, 1.5vw, 20px);  /* 響應式內邊距 */

  display: flex;
  align-items: center;
  justify-content: flex-start;

  overflow: visible;
  text-align: left;
  line-height: 1.4;
  white-space: normal;
  word-break: break-word;
  z-index: 1;
}

/* 內層：只負責文字與旋轉 */
#block1 .block-text,
#block2 .block-text {
  display: block;
  transform: rotate(-2deg);
  transform-origin: center;
  font-size: clamp(20px, 2.5vw, 28px);  /* 響應式字體大小 */
  font-weight: 350;
  color: #000;
}

/* 副文字（縣市 / 鄉鎮市區） */
#block1 .block-subtext {
  position: absolute;
  top: 230%;
  left: -35%;
  width: 60%;
  font-size: clamp(20px, 2.5vw, 28px);  /* 響應式字體大小 */
  font-weight: 400;
  color: #000;
  line-height: 2;
  text-align: center;   /* 置中 */
}

#block2 .block-subtext {
  position: absolute;
  top: 230%;
  left: -55%;
  width: 60%;
  font-size: clamp(20px, 2.5vw, 28px);  /* 響應式字體大小 */
  font-weight: 400;
  color: #000;
  line-height: 2;
  text-align: center;   /* 置中 */
}

/* ========= 按鈕覆蓋層（不影響文字排版） ========= */
#block1 .ui-overlay,
#block2 .ui-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2; /* 蓋過文字層 */
}

#block1 {
  --city-x: 12%;
  --city-y: 185%;
  --dist-x: 12%;
  --dist-y: 240%;
}

#block2 {
  --city-x: -8%;
  --city-y: 185%;
  --dist-x: -8%;
  --dist-y: 240%;
}

.btn-row {
  position: absolute;
  left: var(--x, 0);
  top:  var(--y, 0);
  display: flex;
  gap: clamp(8px, 1vw, 10px);            /* 響應式間距 */
  pointer-events: auto; /* 允許點擊 */
}

/* 若未設定行內 --x/--y，則使用每個 block 可調整的預設變數 */
.city-row { left: var(--x, var(--city-x, 0)); top: var(--y, var(--city-y, 0)); }
.dist-row  { left: var(--x, var(--dist-x, 0)); top: var(--y, var(--dist-y, 0)); }

/* ========= 白色系・日系手遊風格按鈕 ========= */
.gbtn {
  background: linear-gradient(180deg, #ffffff, #f2f3f5);
  border: 2px solid #cfd3da;
  border-radius: clamp(10px, 1.5vw, 14px);  /* 響應式圓角 */
  padding: clamp(4px, 0.8vw, 6px) clamp(10px, 1.5vw, 16px);  /* 響應式內邊距 */
  min-width: clamp(70px, 8vw, 86px);        /* 響應式最小寬度 */
  white-space: nowrap;    /* 禁止自動換行 */
  text-align: center;

  font-size: clamp(16px, 2vw, 20px);  /* 響應式字體大小 */
  font-weight: 600;
  color: #2f3542;
  box-shadow: 0 3px 0 #c6cbd3, 0 6px 12px rgba(0,0,0,.10);
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
  user-select: none;
}

.gbtn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 0 #c6cbd3, 0 12px 18px rgba(0,0,0,.14);
}

.gbtn:active {
  transform: translateY(2px);
  box-shadow: 0 1px 0 #c6cbd3, 0 6px 10px rgba(0,0,0,.12);
}

/* 焦點可見性（鍵盤操作可見） */
.gbtn:focus-visible {
  outline: 3px solid #9ec5ff;  /* 淺藍 */
  outline-offset: 2px;
}

/* 小按鈕（縣、鄉、鎮、市、區）—更窄，高度不變 */
.gbtn.gbtn-small {
  min-width: clamp(50px, 6vw, 58px);  /* 響應式最小寬度 */
  padding: clamp(4px, 0.8vw, 6px) clamp(8px, 1.2vw, 12px);  /* 響應式內邊距 */
}

/* 選取狀態（點擊後） */
.gbtn.is-active {
  background: linear-gradient(180deg, #e9f3ff, #d9ebff); /* 淺藍 */
  border-color: #88b6ff;
  color: #1f3b73;
  box-shadow: 0 3px 0 #80aef7, 0 10px 18px rgba(31,59,115,.20);
}

/* 簡易判題高亮（1 秒）：ok / ng */
.gbtn.ok {
  background: linear-gradient(180deg, #e6ffec, #d4f7dc);
  border-color: #4ccd74;
  color: #135b2b;
}
.gbtn.ng {
  background: linear-gradient(180deg, #ffecec, #ffdada);
  border-color: #ff8b8b;
  color: #7a1b1b;
}

/* ========= 卡車可/不可點的視覺狀態 ========= */
#truck.disabled {
  opacity: .70;
  filter: grayscale(30%);
  pointer-events: none;
  cursor: not-allowed;
}
#truck:not(.disabled) {
  cursor: pointer;
  opacity: 1;
  filter: none;
}

/* ========= 上方資訊框（time / score） ========= */
.info { position: absolute; }

.info img {
  width: 100%;
  height: auto;
  display: block; /* 移除 img 預設的下方空隙 */
}

.info .label {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: space-between;  /* 左右分開固定 */
  padding: 0 60px 0 40px;
  white-space: nowrap;
  font-size: 36px;
  font-weight: 700;
  color: #000;
  pointer-events: none;
}

/* ✅ 時間到要把東西隱藏用 */
.hidden { display: none !important; }

/* ===== 起始頁 Start Screen ===== */

/* 只在起始頁套用背景與置中版面 */
.start-page {
  margin: 0;
  height: 100vh;
  width: 100vw;
  background: url("picture/background.png") no-repeat center center;
  background-size: cover;
  overflow: hidden;

  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center; /* 文字先置中，由區塊再覆蓋置左 */
  padding: 20px;
}

.start-wrap {
  position: relative;
  height: 100%;
  width: 100%;
}

/* 大圖（避免被裁切，寬度自適應） */
.start-illust {
  position: absolute;
  top: -8%;                  /* 起始頁預設值 */
  left: 50%;
  transform: translateX(-50%);
  width: clamp(720px, 80vw, 1200px);
  height: auto;
  user-select: none;
  z-index: 1;                /* 圖層最底 */
}

/* 說明文字 */
.game-desc {
  margin: 0;
  font-size: clamp(18px, 2.2vw, 24px);
  line-height: 1.7;
  color: #222;
  text-shadow: none;
  text-align: left;
}

/* === HUD：基準（桌機/大螢幕） ===
   ❶ 使用百分比定位，避免 vw 單位造成的偏移
*/
.start-page .hud-panel {
  position: absolute;
  left: 16%;                /* 改用百分比 */
  bottom: 5%;              /* 改用百分比 */

  width: clamp(866px, 46vw, 920px); /* 比原本更穩的範圍 */
  padding: 14px 40px;
  box-sizing: border-box;

  background: rgba(255, 255, 255, 0.82);
  border: 2px solid rgba(207, 211, 218, 0.9);
  border-radius: 18px;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.18);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);

  text-align: left;
  z-index: 5; /* 疊在大圖上方 */
}

/* ==== 開始按鈕：基準（桌機） ==== */
#startBtn.start-cta {
  position: absolute;               /* 改用百分比 */
  bottom: 8%;              /* 改用百分比 */
  right: 20%;               /* 改用百分比 */

  width: auto;
  height: auto;
  padding: 8px 16px;
  background: none; /* 移除背景 */
  border: none; /* 移除邊框 */
  box-shadow: none; /* 移除陰影 */

  font: 700 20px/1 'Arial', sans-serif;
  color: #222; /* 與遊戲說明文字相同的顏色 */
  letter-spacing: 1px;
  text-transform: uppercase;

  display: inline-block;
  cursor: pointer; 
  user-select: none;
  transition: all 0.2s ease;
  z-index: 10; /* 在框與圖之上 */
}

/* 移除光效，因為沒有背景 */

/* hover/active/focus 效果 */
@media (hover: hover) {
  #startBtn.start-cta:hover {
    color: #4a90e2; /* 懸停時變為藍色 */
    transform: translateY(-1px); /* 輕微上移 */
  }
}
#startBtn.start-cta:active {
  transform: translateY(0);
  color: #357abd; /* 點擊時變為深藍色 */
}
#startBtn.start-cta:focus-visible {
  outline: 2px solid #4a90e2;
  outline-offset: 4px;
  border-radius: 4px;
}

/* ==== 小螢幕（<=768px）覆蓋：用左右留白決定寬度 ==== */
@media (max-width: 768px) {
  .start-page .hud-panel {
    left: 5%; right: 5%;    /* 使用百分比，更穩定 */
    bottom: 20%;            /* 使用百分比 */
    width: auto;            /* 交給左右邊距決定，不用 clamp */
    padding: 12px 30px;
  }
  #startBtn.start-cta {
    right: 5%; bottom: 20%; /* 使用百分比 */
    padding: 6px 12px;
    font-size: 18px;
  }
}

/* ==== 更小螢幕（<=480px）微調 ==== */
@media (max-width: 480px) {
  .start-page .hud-panel {
    left: 3%; right: 3%;    /* 使用百分比 */
    bottom: 18%;            /* 使用百分比 */
    padding: 10px 25px;
  }
  #startBtn.start-cta {
    right: 3%; bottom: 18%; /* 使用百分比 */
    padding: 5px 10px;
    font-size: 16px;
  }
  .game-desc { font-size: 16px; line-height: 1.6; }
}

/* ===== 遊戲頁面響應式優化 ===== */

/* 平板尺寸 (<=1024px) */
@media (max-width: 1024px) {
  .block {
    width: clamp(350px, 50vw, 500px);
  }
  
  #block1 .block-slot,
  #block2 .block-slot {
    top: 20%;
    height: clamp(70px, 7vh, 90px);
  }
  
  .gbtn {
    font-size: clamp(14px, 1.8vw, 18px);
    min-width: clamp(60px, 7vw, 75px);
  }
  
  .gbtn.gbtn-small {
    min-width: clamp(45px, 5vw, 55px);
  }
}

/* 手機橫向 (<=768px) */
@media (max-width: 768px) {
  .block {
    width: clamp(300px, 55vw, 450px);
  }
  
  #block1 .block-slot,
  #block2 .block-slot {
    top: 18%;
    left: 30%;
    width: 60%;
    height: clamp(60px, 6vh, 80px);
  }
  
  #block1 .block-subtext {
    top: 170%;
    left: -30%;
    width: 65%;
  }
  
  #block2 .block-subtext {
    top: 170%;
    left: -50%;
    width: 65%;
  }
  
  .gbtn {
    font-size: clamp(12px, 1.6vw, 16px);
    min-width: clamp(50px, 6vw, 65px);
    padding: clamp(3px, 0.6vw, 5px) clamp(8px, 1.2vw, 12px);
  }
  
  .gbtn.gbtn-small {
    min-width: clamp(40px, 4.5vw, 50px);
    padding: clamp(3px, 0.6vw, 5px) clamp(6px, 1vw, 10px);
  }
  
  .btn-row {
    gap: clamp(6px, 0.8vw, 8px);
  }
  
  .dist-row {
    gap: clamp(12px, 1.5vw, 16px);
  }
}

/* 手機直向 (<=480px) */
@media (max-width: 480px) {
  .block {
    width: clamp(250px, 60vw, 350px);
  }
  
  #block1 .block-slot,
  #block2 .block-slot {
    top: 16%;
    left: 28%;
    width: 65%;
    height: clamp(50px, 5vh, 70px);
  }
  
  #block1 .block-subtext {
    top: 160%;
    left: -25%;
    width: 70%;
  }
  
  #block2 .block-subtext {
    top: 160%;
    left: -45%;
    width: 70%;
  }
  
  .gbtn {
    font-size: clamp(10px, 1.4vw, 14px);
    min-width: clamp(40px, 5vw, 55px);
    padding: clamp(2px, 0.5vw, 4px) clamp(6px, 1vw, 10px);
  }
  
  .gbtn.gbtn-small {
    min-width: clamp(35px, 4vw, 45px);
    padding: clamp(2px, 0.5vw, 4px) clamp(4px, 0.8vw, 8px);
  }
  
  .btn-row {
    gap: clamp(4px, 0.6vw, 6px);
  }
  
  .dist-row {
    gap: clamp(8px, 1.2vw, 12px);
  }

}

